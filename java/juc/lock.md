# Lock #

```
对象的内存模型
1.markword 存锁信息 hash 分代年龄 4bit 最大15
2.classpointer 类指针
3.成员变量
4.补齐 补到可以被8整除
```

### 重量级锁 ###
操作系统级别锁  
Object.wait()  
synchronized  
早期版本重量级锁，后来版本能够升级  
偏向锁-有线程争抢时升级成自旋锁-太多线程争抢时升级成操作系统锁  
                         1.6之前设参数 自旋10次 或者 线程数是cpu/2  

## CAS ##
自旋锁


## 偏向锁/无锁 ##



